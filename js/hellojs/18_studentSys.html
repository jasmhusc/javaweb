<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>学生管理表格</title>
		<style type="text/css">
			div{
				width: 40%;
				text-align: center;
				margin: auto;
			}
		</style>
	</head>
	<body>
		<div>
			<table border="1px" cellpading="8px" cellspacing="0px" width="100%">
				<tr>
					<th>
						<input type="checkbox" onchange="change(this)"> /
						<input type="button" value="反选" onclick="reverse()" />
					</th>
					<th>学号</th>
					<th>姓名</th>
					<th>操作</th>
				</tr>
				<tr>
					<td>
						<input type="checkbox" class="cc">
					</td>
					<td>001</td>
					<td>潘金莲</td>
					<td>
						<input type="button" value="删除" onclick="remove(this)">
					</td>
				</tr>
				<tr>
					<td>
						<input type="checkbox" class="cc">
					</td>
					<td>002</td>
					<td>武大郎</td>
					<td>
						<input type="button" value="删除" onclick="remove(this)">
					</td>
				</tr>
			</table>
			
			<!-- 学号，姓名 -->
			学号：<input type="text" id="num"><br>
			姓名：<input type="text" id="user"><br>
			<input type="button" id="add" value="添加" />
		</div>
		<!-- js -->
		<script type="text/javascript">
			// 添加信息
			document.getElementById("add").onclick = function(){
				// 获取输入内容
				var num = document.getElementById("num").value;
				var name = document.getElementById("user").value;
				// 判断是否为空
				if (num == "" || name == "") {
					alert("骚年，请输入完整信息！");
					return;
				}
                // 添加信息
                // 1.创建tr节点
                var tr = document.createElement("tr");
                tr.innerHTML = "<td>\n"+
					"	<input type=\"checkbox\" class=\"cc\"/>\n"+
					"</td>\n"+
					"<td>"+num+"</td>\n"+
					"<td>"+name+"</td>\n"+
					"<td>"+
					"	<input type=\"button\" value=\"删除\" onclick=\"remove()\"/>"+
					"</td>";
			    // 2.把tr追加到tbody元素中。
			    var tbody = document.getElementsByTagName("tbody")[0];
			    tbody.appendChild(tr);
			}

		    // 刪除信息
		    function remove(obj){
		    	// alert(obj);
				// obj是被点击的按钮button
				var b = window.confirm("您真的要删除吗？","false");
				if(b){
					obj.parentNode.parentNode.remove();
				}
		    }
			
			// 全选
			// 上面的复选框值改变，则下面所有复选框的选择状态和上面的一样。
			function change(obj){
				var state = obj.checked;
				var checks = document.getElementsByClassName("cc");
				for (var i = 0; i < checks.length; i++) {
					checks[i].checked = state;
				}
			}
			function reverse(){
				var checks = document.getElementsByClassName("cc");
				for (var i = 0; i < checks.length; i++) {
					checks[i].checked = !checks[i].checked;
				}
			}
			
		</script>
	</body>
</html>
